{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joshb\\\\desktop\\\\lambdaProjects\\\\front-end\\\\potluck\\\\src\\\\Components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport * as yup from \"yup\";\nimport { reach } from \"yup\"; // username\n// password\n// submit button\n// nice to have -- form validation and error handling messages\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const initialFormErrors = {\n    username: \"\",\n    password: \"\"\n  };\n  const [loginErr, setLoginErr] = useState(initialFormErrors);\n  const [userData, setUserData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const loginSchema = yup.object().shape({\n    username: yup.string().trim().required(\"Username is required\").min(3, \"Username must be at least 3 characters long\"),\n    password: yup.string().trim().required(\"Must enter your password\")\n  });\n\n  const validate = (name, value) => {\n    reach(loginSchema, name).validate(value).then(() => setLoginErr({ ...loginErr,\n      [name]: \"\"\n    })).catch(err => setLoginErr({ ...loginErr,\n      [name]: err.errors[0]\n    }));\n  };\n\n  const handleChange = evt => {\n    const target = evt.target;\n    const value = target.value;\n    const name = target.name;\n    validate(name, value);\n    setUserData({ ...userData,\n      [name]: value\n    });\n  };\n\n  console.log(userData); //   const handleSubmit = (evt) => {\n  //     evt.preventDefault();\n  //     const { username, first_name, last_name, password } = userData;\n  //     axios\n  //       .post(\n  //         url,\n  //         {\n  //           user: {\n  //             username: username,\n  //\n  //\n  //             password: password,\n  //           },\n  //         },\n  //         { withCredentials: true }\n  //       )\n  //       .then((resp) => {\n  //         return console.log(\"login response\", resp.data);\n  //       })\n  //       .catch((err) => {\n  //         console.log(\"login error\", err);\n  //       });\n  //   };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        value: userData.username,\n        placeholder: \"Username\",\n        name: \"username\",\n        type: \"text\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        value: userData.password,\n        placeholder: \"Password\",\n        name: \"password\",\n        type: \"password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: loginErr.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: loginErr.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"17NM0zZWf9N3iideo7n3sVAY84Y=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/joshb/desktop/lambdaProjects/front-end/potluck/src/Components/Login.js"],"names":["React","useState","useEffect","yup","reach","Login","props","initialFormErrors","username","password","loginErr","setLoginErr","userData","setUserData","loginSchema","object","shape","string","trim","required","min","validate","name","value","then","catch","err","errors","handleChange","evt","target","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport * as yup from \"yup\";\nimport { reach } from \"yup\";\n\n// username\n// password\n// submit button\n// nice to have -- form validation and error handling messages\n\nfunction Login(props) {\n  const initialFormErrors = {\n    username: \"\",\n    password: \"\",\n  };\n  const [loginErr, setLoginErr] = useState(initialFormErrors);\n\n  const [userData, setUserData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const loginSchema = yup.object().shape({\n    username: yup\n      .string()\n      .trim()\n      .required(\"Username is required\")\n      .min(3, \"Username must be at least 3 characters long\"),\n    password: yup.string().trim().required(\"Must enter your password\"),\n  });\n\n  const validate = (name, value) => {\n    reach(loginSchema, name)\n      .validate(value)\n      .then(() => setLoginErr({ ...loginErr, [name]: \"\" }))\n      .catch((err) => setLoginErr({ ...loginErr, [name]: err.errors[0] }));\n  };\n\n  const handleChange = (evt) => {\n    const target = evt.target;\n    const value = target.value;\n    const name = target.name;\n    validate(name, value);\n    setUserData({ ...userData, [name]: value });\n  };\n  console.log(userData);\n  //   const handleSubmit = (evt) => {\n  //     evt.preventDefault();\n  //     const { username, first_name, last_name, password } = userData;\n  //     axios\n  //       .post(\n  //         url,\n  //         {\n  //           user: {\n  //             username: username,\n  //\n  //\n  //             password: password,\n  //           },\n  //         },\n  //         { withCredentials: true }\n  //       )\n  //       .then((resp) => {\n  //         return console.log(\"login response\", resp.data);\n  //       })\n  //       .catch((err) => {\n  //         console.log(\"login error\", err);\n  //       });\n  //   };\n  return (\n    <form>\n      <div>\n        <input\n          onChange={handleChange}\n          value={userData.username}\n          placeholder=\"Username\"\n          name=\"username\"\n          type=\"text\"\n          required\n        ></input>\n        <input\n          onChange={handleChange}\n          value={userData.password}\n          placeholder=\"Password\"\n          name=\"password\"\n          type=\"password\"\n          required\n        ></input>\n\n        <button>Submit</button>\n        <div>\n          <p>{loginErr.username}</p>\n          <p>{loginErr.password}</p>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}